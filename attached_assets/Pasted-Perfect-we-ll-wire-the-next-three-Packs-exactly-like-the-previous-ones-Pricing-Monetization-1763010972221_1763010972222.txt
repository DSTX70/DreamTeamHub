Perfect, we‚Äôll wire the next three Packs exactly like the previous ones:

* **Pricing & Monetization Pack**
* **Data Stewardship & Metrics Pack**
* **GlobalCollabs Partnerships Pack**

For each, I‚Äôll give you:

1. Zod schema + type
2. DB helper
3. Action handler
4. Route wiring
5. Skill JSON config
6. Actions Panel entry
7. Basic tab in `WorkItemPacksTabs`

You can paste these straight into Replit and tweak imports/paths.

---

# 1) Pricing & Monetization Pack

## 1.1 Zod schema

**File:** `server/ai/schemas/pricingMonetizationPack.ts`

```ts
// server/ai/schemas/pricingMonetizationPack.ts
import { z } from "zod";

export const PricingTierSchema = z.object({
  id: z.string(),                // "TIER-STARTER"
  name: z.string(),              // "Starter"
  price: z.string(),             // "$29/mo", "$5/card"
  billing_model: z.enum(["one_time", "subscription", "usage", "hybrid"]),
  target_segment: z.string(),    // "SMB", "Mid-market", etc.
  features: z.array(z.string()),
  value_prop: z.string(),
});

export const MonetizationModelSchema = z.object({
  primary_model: z.enum(["one_time", "subscription", "usage", "hybrid"]),
  description: z.string(),
  alternative_models: z.array(z.string()),
});

export const PromoIdeaSchema = z.object({
  id: z.string(),                // "PROMO-LAUNCH"
  name: z.string(),              // "Launch week discount"
  description: z.string(),
  mechanic: z.string(),          // "10% off first month", etc.
});

export const PricingRiskItemSchema = z.object({
  id: z.string(),                // "PRISK-001"
  description: z.string(),
  severity: z.enum(["low", "medium", "high"]),
  mitigation: z.string(),
});

export const PricingMonetizationPackSchema = z.object({
  summary: z.object({
    headline: z.string(),         // "Premium, accessible to SMBs"
    positioning: z.string(),      // narrative on where this sits
    key_differentiators: z.array(z.string()),
  }),
  model: MonetizationModelSchema,
  tiers: z.array(PricingTierSchema),
  promos: z.array(PromoIdeaSchema),
  risks: z.array(PricingRiskItemSchema),
  open_questions: z.array(z.string()),
});

export type PricingMonetizationPack = z.infer<
  typeof PricingMonetizationPackSchema
>;
```

---

## 1.2 DB helper

**File:** `server/db/workItemPacks.ts`

Add:

```ts
import type { PricingMonetizationPack } from "../ai/schemas/pricingMonetizationPack";

// ...

export async function savePricingMonetizationPack(
  workItemId: string,
  pack: PricingMonetizationPack
): Promise<void> {
  await db
    .update(work_items)
    .set({
      pricing_monetization_pack: pack,
      pricing_monetization_pack_updated_at: new Date(),
    })
    .where(work_items.id.eq(workItemId));
}
```

---

## 1.3 Action handler

**File:** `server/routes/workItemActions/pricingMonetizationPack.ts`

```ts
// server/routes/workItemActions/pricingMonetizationPack.ts
import { createWorkItemActionHandler } from "../../ai/actions/createWorkItemActionHandler";
import {
  PricingMonetizationPackSchema,
  type PricingMonetizationPack,
} from "../../ai/schemas/pricingMonetizationPack";
import { savePricingMonetizationPack } from "../../db/workItemPacks";

export const postGeneratePricingMonetizationPack =
  createWorkItemActionHandler<PricingMonetizationPack>({
    skillName: "generatePricingMonetizationPack",
    outputSchema: PricingMonetizationPackSchema,
    persist: savePricingMonetizationPack,
  });
```

---

## 1.4 Route wiring

**File:** `server/routes.ts`

```ts
import { postGeneratePricingMonetizationPack } from "./routes/workItemActions/pricingMonetizationPack";

export function registerRoutes(app: import("express").Express) {
  // ...
  app.post(
    "/api/work-items/:id/actions/generate-pricing-monetization-pack",
    postGeneratePricingMonetizationPack
  );
}
```

---

## 1.5 Skill JSON config

**File:** `server/ai/skills/generatePricingMonetizationPack.json`

```json
{
  "name": "generatePricingMonetizationPack",
  "description": "Generate a structured Pricing & Monetization Pack (model, tiers, promos, risks, questions) using the full Ops & Finance Pod plus Retail Collective Pod.",
  "system_prompt": "You are the combined Ops & Finance Pod and Retail Collective Pod inside the Dream Team Hub. This includes ALL of the following roles working together:\n\nOps & Finance Pod:\n- Ledger ‚Äì Finance & monetization lead\n- Foundry ‚Äì Startup Mentor & Growth Strategist\n- OS ‚Äì Orchestration / product alignment\n- Navi ‚Äì Ops & SLAs\n- Pulse ‚Äì Performance & cost view\n- Conductor ‚Äì Pilot to pricing linkage\n- Amani ‚Äì SMB founder/operator lens\n\nRetail Collective Pod (RCP):\n- Prism ‚Äì Marketing & positioning\n- Echo ‚Äì Messaging & campaigns\n- Nova ‚Äì Visual / packaging\n- Storybloom / River ‚Äì Narrative for offers\n- Relevant brand pods (Fab Card Co, OUAS, dreamshitter.com, etc.) as needed\n\nYou are designing pricing and monetization for a single product, app, offer, or line described in a Work Item. The Work Item gives you a title, body, and notes about the product, target audience, constraints, and any existing pricing or competitor examples.\n\nYour job is to produce an execution-ready Pricing & Monetization Pack, not to restate the brief. The Pack should define:\n1) A primary monetization model (one_time, subscription, usage, or hybrid), with a short description and 1‚Äì3 alternative models.\n2) 2‚Äì5 pricing tiers (where appropriate) with names, prices, billing models, target segments, feature bullets, and clear value propositions.\n3) A small set of promo ideas (launch offers, bundles, trials, etc.) with clear mechanics.\n4) Pricing risks with severity and mitigations (e.g., confusing tiers, underpricing, margin risk).\n5) Open questions where Dustin or the team needs to confirm positioning, margin, or constraints.\n\nRespond with JSON ONLY that matches the PricingMonetizationPackSchema:\n{\n  \"summary\": { \"headline\", \"positioning\", \"key_differentiators\" },\n  \"model\": { ... },\n  \"tiers\": [ ... ],\n  \"promos\": [ ... ],\n  \"risks\": [ ... ],\n  \"open_questions\": [ ... ]\n}\n\nDo not include any commentary outside the JSON.",
  "input_schema": {
    "type": "object",
    "properties": {
      "work_item_id": { "type": "string" },
      "work_item_title": { "type": "string" },
      "work_item_body": { "type": "string" },
      "work_item_notes": { "type": "string" }
    },
    "required": ["work_item_id", "work_item_title", "work_item_body"]
  }
}
```

---

## 1.6 Actions Panel entry

**File:** `client/src/components/workItems/WorkItemActionsPanel.tsx`

Extend `ActionKey` and `ACTION_CONFIG`:

```ts
type ActionKey =
  | "lifestyle"
  | "patentClaims"
  | "launchPlan"
  | "riskCompliance"
  | "agentAcademy"
  | "agentGovernance"
  | "pricingMonetization"
  | "dataMetrics"
  | "globalCollabs";
```

Add to `ACTION_CONFIG`:

```ts
  pricingMonetization: {
    label: "Generate Pricing & Monetization Pack",
    icon: "üí∞",
    endpointSuffix: "generate-pricing-monetization-pack",
  },
  dataMetrics: {
    label: "Generate Data Stewardship & Metrics Pack",
    icon: "üìä",
    endpointSuffix: "generate-data-stewardship-metrics-pack",
  },
  globalCollabs: {
    label: "Generate GlobalCollabs Partnerships Pack",
    icon: "ü§ù",
    endpointSuffix: "generate-globalcollabs-partnership-pack",
  },
```

(We‚Äôll wire the two other endpoint routes below.)

---

## 1.7 Pricing tab in `WorkItemPacksTabs`

**File:** `client/src/components/workItems/WorkItemPacksTabs.tsx`

Extend props:

```ts
type WorkItemPacksTabsProps = {
  workItem: {
    id: string;
    lifestyle_pack?: any;
    patent_claims_pack?: any;
    launch_plan_pack?: any;
    website_audit_pack?: any;
    risk_compliance_pack?: any;
    agent_lab_academy_pack?: any;
    agent_governance_pack?: any;
    pricing_monetization_pack?: any;       // üëà
    data_stewardship_metrics_pack?: any;   // üëà
    globalcollabs_partnership_pack?: any;  // üëà
  };
};
```

Extend `TabKey` and `TAB_CONFIG`:

```ts
type TabKey =
  | "lifestyle"
  | "patent"
  | "launch"
  | "audit"
  | "risk"
  | "academy"
  | "governance"
  | "pricing"
  | "metrics"
  | "partnerships";

const TAB_CONFIG: { key: TabKey; label: string }[] = [
  { key: "lifestyle", label: "Lifestyle Pack" },
  { key: "patent", label: "Patent Claims Pack" },
  { key: "launch", label: "Launch Plan Pack" },
  { key: "audit", label: "Website Audit Pack" },
  { key: "risk", label: "Risk & Compliance Pack" },
  { key: "academy", label: "Agent Lab Academy" },
  { key: "governance", label: "Agent Governance" },
  { key: "pricing", label: "Pricing & Monetization" },
  { key: "metrics", label: "Data Stewardship & Metrics" },
  { key: "partnerships", label: "GlobalCollabs Partnerships" }
];
```

Update `availableTabs`:

```ts
const availableTabs = TAB_CONFIG.filter((t) => {
  if (t.key === "lifestyle") return !!workItem.lifestyle_pack;
  if (t.key === "patent") return !!workItem.patent_claims_pack;
  if (t.key === "launch") return !!workItem.launch_plan_pack;
  if (t.key === "audit") return !!workItem.website_audit_pack;
  if (t.key === "risk") return !!workItem.risk_compliance_pack;
  if (t.key === "academy") return !!workItem.agent_lab_academy_pack;
  if (t.key === "governance") return !!workItem.agent_governance_pack;
  if (t.key === "pricing") return !!workItem.pricing_monetization_pack;
  if (t.key === "metrics") return !!workItem.data_stewardship_metrics_pack;
  if (t.key === "partnerships") return !!workItem.globalcollabs_partnership_pack;
  return false;
});
```

Add Pricing render branch in `renderActivePanel()`:

```tsx
if (active === "pricing" && workItem.pricing_monetization_pack) {
  const p = workItem.pricing_monetization_pack;
  return (
    <div className="space-y-4 text-xs text-gray-300">
      <div>
        <h3 className="text-xs font-semibold uppercase tracking-wide text-gray-400">
          Summary
        </h3>
        <p className="mt-1 text-sm text-gray-200">{p.summary?.headline}</p>
        <p className="mt-1 text-xs text-gray-400">
          Positioning: {p.summary?.positioning}
        </p>
        <ul className="mt-2 list-disc space-y-1 pl-4">
          {p.summary?.key_differentiators?.map((d: string, idx: number) => (
            <li key={idx}>{d}</li>
          ))}
        </ul>
      </div>

      <div>
        <h4 className="text-[11px] font-semibold uppercase tracking-wide text-gray-400">
          Model
        </h4>
        <div className="mt-1 rounded-md border border-gray-800 bg-[#090a0f] p-2 text-[11px] text-gray-300">
          <p>
            Primary model: {p.model?.primary_model} ‚Äì {p.model?.description}
          </p>
          {p.model?.alternative_models && p.model.alternative_models.length > 0 && (
            <p className="mt-1">
              Alternatives: {p.model.alternative_models.join("; ")}
            </p>
          )}
        </div>
      </div>

      <div>
        <h4 className="text-[11px] font-semibold uppercase tracking-wide text-gray-400">
          Tiers
        </h4>
        <div className="mt-1 overflow-x-auto">
          <table className="min-w-full border-collapse text-[11px]">
            <thead>
              <tr className="border-b border-gray-800 text-gray-400">
                <th className="px-2 py-1 text-left">Name</th>
                <th className="px-2 py-1 text-left">Price</th>
                <th className="px-2 py-1 text-left">Billing</th>
                <th className="px-2 py-1 text-left">Segment</th>
              </tr>
            </thead>
            <tbody>
              {p.tiers?.map((t: any, idx: number) => (
                <tr
                  key={idx}
                  className="border-b border-gray-900 text-gray-300"
                >
                  <td className="px-2 py-1">{t.name}</td>
                  <td className="px-2 py-1">{t.price}</td>
                  <td className="px-2 py-1">{t.billing_model}</td>
                  <td className="px-2 py-1">{t.target_segment}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>

      <div className="grid gap-4 md:grid-cols-2">
        <div>
          <h4 className="text-[11px] font-semibold uppercase tracking-wide text-gray-400">
            Promos
          </h4>
          <div className="mt-1 space-y-2">
            {p.promos?.map((pr: any, idx: number) => (
              <div
                key={idx}
                className="rounded-md border border-gray-800 bg-[#090a0f] p-2"
              >
                <div className="text-xs font-semibold text-gray-200">
                  {pr.name}
                </div>
                <p className="mt-1 text-xs text-gray-400">
                  {pr.description}
                </p>
                <p className="mt-1 text-[11px] text-gray-500">
                  Mechanic: {pr.mechanic}
                </p>
              </div>
            ))}
          </div>
        </div>

        <div>
          <h4 className="text-[11px] font-semibold uppercase tracking-wide text-gray-400">
            Risks
          </h4>
          <div className="mt-1 space-y-1">
            {p.risks?.map((r: any, idx: number) => (
              <div
                key={idx}
                className="rounded-md border border-gray-800 bg-[#090a0f] p-2"
              >
                <div className="flex items-center justify-between text-[11px] text-gray-400">
                  <span>{r.id}</span>
                  <span>{String(r.severity).toUpperCase()}</span>
                </div>
                <p className="mt-1 text-xs text-gray-200">
                  {r.description}
                </p>
                <p className="mt-1 text-[11px] text-emerald-400">
                  Mitigation: {r.mitigation}
                </p>
              </div>
            ))}
          </div>
        </div>
      </div>

      {p.open_questions && p.open_questions.length > 0 && (
        <div>
          <h4 className="text-[11px] font-semibold uppercase tracking-wide text-gray-400">
            Open questions
          </h4>
          <ul className="mt-1 list-disc space-y-1 pl-4">
            {p.open_questions.map((q: string, idx: number) => (
              <li key={idx}>{q}</li>
            ))}
          </ul>
        </div>
      )}
    </div>
  );
}
```

---

# 2) Data Stewardship & Metrics Pack

## 2.1 Zod schema

**File:** `server/ai/schemas/dataStewardshipMetricsPack.ts`

```ts
// server/ai/schemas/dataStewardshipMetricsPack.ts
import { z } from "zod";

export const MetricDefSchema = z.object({
  id: z.string(),               // "METRIC-DAU"
  name: z.string(),
  description: z.string(),
  formula: z.string(),          // narrative or pseudo-SQL
  source: z.string(),           // "DTH DB", "logs", etc.
  grain: z.enum([
    "per_user",
    "per_org",
    "per_agent",
    "per_session",
  ]),
  retention_days: z.number().int(),
  privacy_notes: z.string(),
});

export const LogCategorySchema = z.object({
  id: z.string(),               // "LOG-AGENT-RUNS"
  name: z.string(),
  description: z.string(),
  fields: z.array(z.string()),
  pii_risk: z.enum(["low", "medium", "high"]),
  retention_days: z.number().int(),
});

export const StewardshipPolicySchema = z.object({
  id: z.string(),
  topic: z.string(),            // "Retention", "Access", etc.
  statement: z.string(),
});

export const DataStewardshipMetricsPackSchema = z.object({
  summary: z.object({
    headline: z.string(),
    primary_goals: z.array(z.string()),
  }),
  core_metrics: z.array(MetricDefSchema),
  supporting_metrics: z.array(MetricDefSchema),
  log_categories: z.array(LogCategorySchema),
  policies: z.array(StewardshipPolicySchema),
  open_questions: z.array(z.string()),
});

export type DataStewardshipMetricsPack = z.infer<
  typeof DataStewardshipMetricsPackSchema
>;
```

---

## 2.2 DB helper

**File:** `server/db/workItemPacks.ts`

```ts
import type { DataStewardshipMetricsPack } from "../ai/schemas/dataStewardshipMetricsPack";

// ...

export async function saveDataStewardshipMetricsPack(
  workItemId: string,
  pack: DataStewardshipMetricsPack
): Promise<void> {
  await db
    .update(work_items)
    .set({
      data_stewardship_metrics_pack: pack,
      data_stewardship_metrics_pack_updated_at: new Date(),
    })
    .where(work_items.id.eq(workItemId));
}
```

---

## 2.3 Action handler

**File:** `server/routes/workItemActions/dataStewardshipMetricsPack.ts`

```ts
// server/routes/workItemActions/dataStewardshipMetricsPack.ts
import { createWorkItemActionHandler } from "../../ai/actions/createWorkItemActionHandler";
import {
  DataStewardshipMetricsPackSchema,
  type DataStewardshipMetricsPack,
} from "../../ai/schemas/dataStewardshipMetricsPack";
import { saveDataStewardshipMetricsPack } from "../../db/workItemPacks";

export const postGenerateDataStewardshipMetricsPack =
  createWorkItemActionHandler<DataStewardshipMetricsPack>({
    skillName: "generateDataStewardshipMetricsPack",
    outputSchema: DataStewardshipMetricsPackSchema,
    persist: saveDataStewardshipMetricsPack,
  });
```

---

## 2.4 Route wiring

**File:** `server/routes.ts`

```ts
import { postGenerateDataStewardshipMetricsPack } from "./routes/workItemActions/dataStewardshipMetricsPack";

export function registerRoutes(app: import("express").Express) {
  // ...
  app.post(
    "/api/work-items/:id/actions/generate-data-stewardship-metrics-pack",
    postGenerateDataStewardshipMetricsPack
  );
}
```

The `dataMetrics` action in `WorkItemActionsPanel` now points here.

---

## 2.5 Skill JSON

**File:** `server/ai/skills/generateDataStewardshipMetricsPack.json`

```json
{
  "name": "generateDataStewardshipMetricsPack",
  "description": "Generate a structured Data Stewardship & Metrics Pack (core metrics, supporting metrics, log categories, policies, questions) using the full Data Stewardship & Metrics Pod.",
  "system_prompt": "You are the Data Stewardship & Metrics Pod inside the Dream Team Hub. This pod includes ALL of the following roles working together:\n\n- Pulse ‚Äì Performance Engineer\n- Ledger ‚Äì Finance / unit economics\n- Archivist ‚Äì Evidence Curator\n- OS ‚Äì System-level metric design\n- Sentinel ‚Äì Security & integrity of data\n- Praetor ‚Äì Privacy Counsel (EU/US)\n- Data / Privacy Counsel\n- Bridge ‚Äì SDK & telemetry\n- Verifier ‚Äì QA & deterministic replay\n- Conductor ‚Äì Pilot KPIs\n- Beacon ‚Äì External reporting / analyst views\n\nYou are defining metrics and data stewardship for a Work Item that describes a product, feature, or program. The Work Item includes goals (what we care about), context, and constraints.\n\nYour job is to produce an execution-ready Data Stewardship & Metrics Pack. The Pack should define:\n1) Core and supporting metrics: names, descriptions, formulas, sources, grains (per_user, per_org, per_agent, per_session), retention_days, and privacy_notes.\n2) Log categories: named categories of logs with fields, PII risk, and retention_days.\n3) Stewardship policies: short statements around retention, access, governance, and appropriate use.\n4) Open questions where Dustin, legal, or infra teams need to confirm scope, retention, or lawful basis.\n\nRespond with JSON ONLY that matches the DataStewardshipMetricsPackSchema:\n{\n  \"summary\": { \"headline\", \"primary_goals\" },\n  \"core_metrics\": [ ... ],\n  \"supporting_metrics\": [ ... ],\n  \"log_categories\": [ ... ],\n  \"policies\": [ ... ],\n  \"open_questions\": [ ... ]\n}\n\nDo not include any commentary outside the JSON.",
  "input_schema": {
    "type": "object",
    "properties": {
      "work_item_id": { "type": "string" },
      "work_item_title": { "type": "string" },
      "work_item_body": { "type": "string" },
      "work_item_notes": { "type": "string" }
    },
    "required": ["work_item_id", "work_item_title", "work_item_body"]
  }
}
```

---

## 2.6 Metrics tab in `WorkItemPacksTabs`

Add branch in `renderActivePanel()`:

```tsx
if (active === "metrics" && workItem.data_stewardship_metrics_pack) {
  const p = workItem.data_stewardship_metrics_pack;
  return (
    <div className="space-y-4 text-xs text-gray-300">
      <div>
        <h3 className="text-xs font-semibold uppercase tracking-wide text-gray-400">
          Summary
        </h3>
        <p className="mt-1 text-sm text-gray-200">{p.summary?.headline}</p>
        <ul className="mt-2 list-disc space-y-1 pl-4">
          {p.summary?.primary_goals?.map((g: string, idx: number) => (
            <li key={idx}>{g}</li>
          ))}
        </ul>
      </div>

      <div className="grid gap-4 md:grid-cols-2">
        <div>
          <h4 className="text-[11px] font-semibold uppercase tracking-wide text-gray-400">
            Core metrics
          </h4>
          <div className="mt-1 max-h-48 overflow-y-auto rounded-md border border-gray-800 bg-[#090a0f]">
            {p.core_metrics?.map((m: any, idx: number) => (
              <div
                key={idx}
                className="border-b border-gray-800 p-2 last:border-b-0"
              >
                <div className="text-xs font-semibold text-gray-200">
                  {m.name}
                </div>
                <p className="mt-1 text-xs text-gray-400">
                  {m.description}
                </p>
                <p className="mt-1 text-[11px] text-gray-500">
                  Formula: {m.formula}
                </p>
                <p className="mt-1 text-[11px] text-gray-500">
                  Source: {m.source} ¬∑ Grain: {m.grain}
                </p>
              </div>
            ))}
          </div>
        </div>

        <div>
          <h4 className="text-[11px] font-semibold uppercase tracking-wide text-gray-400">
            Log categories
          </h4>
          <div className="mt-1 max-h-48 overflow-y-auto rounded-md border border-gray-800 bg-[#090a0f]">
            {p.log_categories?.map((lc: any, idx: number) => (
              <div
                key={idx}
                className="border-b border-gray-800 p-2 last:border-b-0"
              >
                <div className="flex items-center justify-between text-[11px] text-gray-400">
                  <span>{lc.name}</span>
                  <span>{String(lc.pii_risk).toUpperCase()}</span>
                </div>
                <p className="mt-1 text-xs text-gray-200">
                  {lc.description}
                </p>
                <p className="mt-1 text-[11px] text-gray-500">
                  Fields: {lc.fields?.join(", ")}
                </p>
                <p className="mt-1 text-[11px] text-gray-500">
                  Retention: {lc.retention_days} days
                </p>
              </div>
            ))}
          </div>
        </div>
      </div>

      <div>
        <h4 className="text-[11px] font-semibold uppercase tracking-wide text-gray-400">
          Policies
        </h4>
        <div className="mt-1 space-y-2">
          {p.policies?.map((policy: any, idx: number) => (
            <div
              key={idx}
              className="rounded-md border border-gray-800 bg-[#090a0f] p-2"
            >
              <div className="text-xs font-semibold text-gray-200">
                {policy.topic}
              </div>
              <p className="mt-1 text-xs text-gray-400">
                {policy.statement}
              </p>
            </div>
          ))}
        </div>
      </div>

      {p.open_questions && p.open_questions.length > 0 && (
        <div>
          <h4 className="text-[11px] font-semibold uppercase tracking-wide text-gray-400">
            Open questions
          </h4>
          <ul className="mt-1 list-disc space-y-1 pl-4">
            {p.open_questions.map((q: string, idx: number) => (
              <li key={idx}>{q}</li>
            ))}
          </ul>
        </div>
      )}
    </div>
  );
}
```

---

# 3) GlobalCollabs Partnerships Pack

## 3.1 Zod schema

**File:** `server/ai/schemas/globalCollabsPartnershipPack.ts`

```ts
// server/ai/schemas/globalCollabsPartnershipPack.ts
import { z } from "zod";

export const PartnerProfileSchema = z.object({
  name: z.string(),
  type: z.string(),              // "platform", "agency", "creator", "brand"
  region: z.string().optional(),
  audience: z.string(),
  strengths: z.array(z.string()),
});

export const PartnershipModelSchema = z.object({
  id: z.string(),                // "REVSHARE-01"
  name: z.string(),              // "Revenue Share"
  description: z.string(),
  economics: z.string(),
  pros: z.array(z.string()),
  cons: z.array(z.string()),
});

export const ActivationIdeaSchema = z.object({
  id: z.string(),
  name: z.string(),              // "Co-branded launch week"
  description: z.string(),
  channels: z.array(z.string()), // "email", "IG", "webinar", etc.
  success_metrics: z.array(z.string()),
});

export const PartnershipRiskSchema = z.object({
  id: z.string(),
  description: z.string(),
  severity: z.enum(["low", "medium", "high"]),
  mitigation: z.string(),
});

export const GlobalCollabsPartnershipPackSchema = z.object({
  summary: z.object({
    headline: z.string(),        // "High-potential collab with X for Y"
    strategic_fit: z.string(),
    priority: z.enum(["low", "medium", "high"]),
  }),
  partner_profile: PartnerProfileSchema,
  models: z.array(PartnershipModelSchema),
  recommended_model_id: z.string(),
  activations: z.array(ActivationIdeaSchema),
  risks: z.array(PartnershipRiskSchema),
  open_questions: z.array(z.string()),
});

export type GlobalCollabsPartnershipPack = z.infer<
  typeof GlobalCollabsPartnershipPackSchema
>;
```

---

## 3.2 DB helper

**File:** `server/db/workItemPacks.ts`

```ts
import type { GlobalCollabsPartnershipPack } from "../ai/schemas/globalCollabsPartnershipPack";

// ...

export async function saveGlobalCollabsPartnershipPack(
  workItemId: string,
  pack: GlobalCollabsPartnershipPack
): Promise<void> {
  await db
    .update(work_items)
    .set({
      globalcollabs_partnership_pack: pack,
      globalcollabs_partnership_pack_updated_at: new Date(),
    })
    .where(work_items.id.eq(workItemId));
}
```

---

## 3.3 Action handler

**File:** `server/routes/workItemActions/globalCollabsPartnershipPack.ts`

```ts
// server/routes/workItemActions/globalCollabsPartnershipPack.ts
import { createWorkItemActionHandler } from "../../ai/actions/createWorkItemActionHandler";
import {
  GlobalCollabsPartnershipPackSchema,
  type GlobalCollabsPartnershipPack,
} from "../../ai/schemas/globalCollabsPartnershipPack";
import { saveGlobalCollabsPartnershipPack } from "../../db/workItemPacks";

export const postGenerateGlobalCollabsPartnershipPack =
  createWorkItemActionHandler<GlobalCollabsPartnershipPack>({
    skillName: "generateGlobalCollabsPartnershipPack",
    outputSchema: GlobalCollabsPartnershipPackSchema,
    persist: saveGlobalCollabsPartnershipPack,
  });
```

---

## 3.4 Route wiring

**File:** `server/routes.ts`

```ts
import { postGenerateGlobalCollabsPartnershipPack } from "./routes/workItemActions/globalCollabsPartnershipPack";

export function registerRoutes(app: import("express").Express) {
  // ...
  app.post(
    "/api/work-items/:id/actions/generate-globalcollabs-partnership-pack",
    postGenerateGlobalCollabsPartnershipPack
  );
}
```

The `globalCollabs` action in the Actions Panel now points here.

---

## 3.5 Skill JSON

**File:** `server/ai/skills/generateGlobalCollabsPartnershipPack.json`

```json
{
  "name": "generateGlobalCollabsPartnershipPack",
  "description": "Generate a structured GlobalCollabs Partnerships Pack (partner profile, models, activations, risks, questions) using the full GlobalCollabs Partnerships Pod plus Amani.",
  "system_prompt": "You are the GlobalCollabs Partnerships Pod inside the Dream Team Hub, anchored by Amani. This pod includes ALL of the following roles working together:\n\n- Amani ‚Äì Strategic Partnerships & Ecosystem (SMB founder/operator lens)\n- Foundry ‚Äì Startup Mentor & Growth Strategist\n- Ledger ‚Äì Finance / deal economics\n- OS ‚Äì Product & platform alignment\n- Prism ‚Äì Brand & marketing alignment\n- Echo ‚Äì Comms & campaigns\n- Nova ‚Äì Visual identity for co-branded assets\n- Atlas ‚Äì IP / FTO for joint offerings\n- Aegis ‚Äì IP & contract edges (licensing, co-dev)\n- Beacon ‚Äì Analyst & PR narrative\n- Navi ‚Äì Ops / account management & SLAs\n\nYou are evaluating or designing a partnership opportunity for GlobalCollabs described in a Work Item. The Work Item provides a title, body, and notes with partner details, goals, and constraints.\n\nYour job is to produce an execution-ready GlobalCollabs Partnerships Pack. The Pack should define:\n1) Partner profile: name, type (platform, agency, creator, brand), region, audience, strengths.\n2) Partnership models: several possible models (e.g., rev share, referral, co-marketing, bundled offering), each with economics, pros, and cons, and a recommended_model_id.\n3) Activation ideas: specific launch/activation concepts with channels and success metrics.\n4) Partnership risks with severity and mitigations.\n5) Open questions where Dustin or the team needs to confirm scope, legal constraints, or partner expectations.\n\nRespond with JSON ONLY that matches the GlobalCollabsPartnershipPackSchema:\n{\n  \"summary\": { \"headline\", \"strategic_fit\", \"priority\" },\n  \"partner_profile\": { ... },\n  \"models\": [ ... ],\n  \"recommended_model_id\": \"...\",\n  \"activations\": [ ... ],\n  \"risks\": [ ... ],\n  \"open_questions\": [ ... ]\n}\n\nDo not include any commentary outside the JSON.",
  "input_schema": {
    "type": "object",
    "properties": {
      "work_item_id": { "type": "string" },
      "work_item_title": { "type": "string" },
      "work_item_body": { "type": "string" },
      "work_item_notes": { "type": "string" }
    },
    "required": ["work_item_id", "work_item_title", "work_item_body"]
  }
}
```

---

## 3.6 Partnerships tab in `WorkItemPacksTabs`

Add render branch:

```tsx
if (active === "partnerships" && workItem.globalcollabs_partnership_pack) {
  const p = workItem.globalcollabs_partnership_pack;
  return (
    <div className="space-y-4 text-xs text-gray-300">
      <div>
        <h3 className="text-xs font-semibold uppercase tracking-wide text-gray-400">
          Summary
        </h3>
        <p className="mt-1 text-sm text-gray-200">{p.summary?.headline}</p>
        <p className="mt-1 text-xs text-gray-400">
          Strategic fit: {p.summary?.strategic_fit}
        </p>
        <p className="mt-1 text-xs text-gray-400">
          Priority:{" "}
          <span className="font-semibold uppercase">
            {p.summary?.priority}
          </span>
        </p>
      </div>

      <div>
        <h4 className="text-[11px] font-semibold uppercase tracking-wide text-gray-400">
          Partner profile
        </h4>
        <div className="mt-1 rounded-md border border-gray-800 bg-[#090a0f] p-2 text-[11px] text-gray-300">
          <p>
            {p.partner_profile?.name} ¬∑ {p.partner_profile?.type}
          </p>
          {p.partner_profile?.region && (
            <p className="mt-1">Region: {p.partner_profile.region}</p>
          )}
          <p className="mt-1">Audience: {p.partner_profile?.audience}</p>
          <p className="mt-1">
            Strengths: {p.partner_profile?.strengths?.join(", ")}
          </p>
        </div>
      </div>

      <div className="grid gap-4 md:grid-cols-2">
        <div>
          <h4 className="text-[11px] font-semibold uppercase tracking-wide text-gray-400">
            Partnership models
          </h4>
          <div className="mt-1 max-h-56 overflow-y-auto rounded-md border border-gray-800 bg-[#090a0f]">
            {p.models?.map((m: any) => (
              <div
                key={m.id}
                className="border-b border-gray-800 p-2 last:border-b-0"
              >
                <div className="flex items-center justify-between text-[11px] text-gray-400">
                  <span className="font-semibold text-gray-200">
                    {m.name}
                  </span>
                  {p.recommended_model_id === m.id && (
                    <span className="text-emerald-400">Recommended</span>
                  )}
                </div>
                <p className="mt-1 text-xs text-gray-400">
                  {m.description}
                </p>
                <p className="mt-1 text-[11px] text-gray-500">
                  Economics: {m.economics}
                </p>
                <p className="mt-1 text-[11px] text-emerald-400">
                  Pros: {m.pros?.join("; ")}
                </p>
                <p className="mt-1 text-[11px] text-rose-400">
                  Cons: {m.cons?.join("; ")}
                </p>
              </div>
            ))}
          </div>
        </div>

        <div>
          <h4 className="text-[11px] font-semibold uppercase tracking-wide text-gray-400">
            Activations
          </h4>
          <div className="mt-1 max-h-56 overflow-y-auto rounded-md border border-gray-800 bg-[#090a0f]">
            {p.activations?.map((a: any, idx: number) => (
              <div
                key={idx}
                className="border-b border-gray-800 p-2 last:border-b-0"
              >
                <div className="text-xs font-semibold text-gray-200">
                  {a.name}
                </div>
                <p className="mt-1 text-xs text-gray-400">
                  {a.description}
                </p>
                <p className="mt-1 text-[11px] text-gray-500">
                  Channels: {a.channels?.join(", ")}
                </p>
                <p className="mt-1 text-[11px] text-emerald-400">
                  Success metrics: {a.success_metrics?.join("; ")}
                </p>
              </div>
            ))}
          </div>
        </div>
      </div>

      {p.risks && p.risks.length > 0 && (
        <div>
          <h4 className="text-[11px] font-semibold uppercase tracking-wide text-gray-400">
            Risks
          </h4>
          <div className="mt-1 space-y-2">
            {p.risks.map((r: any, idx: number) => (
              <div
                key={idx}
                className="rounded-md border border-gray-800 bg-[#090a0f] p-2"
              >
                <div className="flex items-center justify-between text-[11px] text-gray-400">
                  <span>{r.id}</span>
                  <span>{String(r.severity).toUpperCase()}</span>
                </div>
                <p className="mt-1 text-xs text-gray-200">
                  {r.description}
                </p>
                <p className="mt-1 text-[11px] text-emerald-400">
                  Mitigation: {r.mitigation}
                </p>
              </div>
            ))}
          </div>
        </div>
      )}

      {p.open_questions && p.open_questions.length > 0 && (
        <div>
          <h4 className="text-[11px] font-semibold uppercase tracking-wide text-gray-400">
            Open questions
          </h4>
          <ul className="mt-1 list-disc space-y-1 pl-4">
            {p.open_questions.map((q: string, idx: number) => (
              <li key={idx}>{q}</li>
            ))}
          </ul>
        </div>
      )}
    </div>
  );
}
```

---

At this point, all six new Packs you wanted are:

* **Defined in backend** (schemas, skills, handlers, routes)
* **Triggerable from the Actions Panel**
* **Visible as tabs** in the Work Item detail UI

If you‚Äôd like, the next step could be a **short ‚ÄúPack usage guide‚Äù** you can drop into DTH docs so future-you remembers: which WI types should auto-run which packs, and what ‚ÄúDefinition of Done‚Äù looks like for each.
