{
  "id": "e7701f0b4838c8a9",
  "title": "Dream Team Hub — Strategy Session v1.0 (Pre-Execution)",
  "status": "LOCKED",
  "mode": "STRATEGY / BRAINSTORM (NON-EXECUTING)",
  "author": "Dustin Sparks",
  "approval_required_for_execution": true,
  "repo_hint": "Gigster Garage (pilot candidate)",
  "podPresetKey": "gigsterGarage",
  "participants": [
    "Aegis",
    "Forge",
    "LexiCode",
    "Lume",
    "OS",
    "Sentinel",
    "Sparkster"
  ],
  "questions": [
    "What must happen before any recommendation or drop is allowed?",
    "What is the minimum approval artifact that blocks execution?",
    "Which tasks require a Strategy Session vs fast-path execution?",
    "Where do Strategy Sessions end and Work Orders begin?",
    "What information must survive as a permanent artifact?"
  ],
  "bodyMd": "TITLE: Dream Team Hub — Strategy Session v1.0 (Pre-Execution)\n\nSTATUS: OPEN\nMODE: STRATEGY / BRAINSTORM (NON-EXECUTING)\n\nAUTHOR: Dustin Sparks\nAPPROVAL_REQUIRED_FOR_EXECUTION: true\n\n---\n\n## PURPOSE\n\nThis Strategy Session exists to:\n- Clarify intent before solutions\n- Explore ideas, tradeoffs, and risks\n- Refine *what problem we are actually solving*\n- Prevent premature recommendations, code, or drops\n\nThis session is explicitly **non-executing**.\n\n---\n\n## SCOPE & RULES\n\nAllowed:\n- Brainstorming\n- Debate and disagreement\n- Option exploration\n- Risk identification\n- Clarifying questions\n- Directional thinking\n\nNot Allowed:\n- Code drops\n- Repo changes\n- Replit handoff\n- Shipping, ingest, or apply actions\n\nNo outputs from this session may be executed without an explicit **Strategy Lock** and subsequent approval.\n\n---\n\n## CONTEXT\n\nProject / Repo:\n- Gigster Garage (pilot candidate)\n\nGoal:\n- Define the correct workflow and boundaries for agents + repos doing real work together\n- Ensure Dustin Sparks remains the sole approval authority\n- Establish the clean separation between:\n  Strategy -> Recommendations -> Execution\n\nConstraints:\n- Safety over speed\n- No silent execution paths\n- Human approval must be enforceable, not implied\n\n---\n\n## PARTICIPANTS (INVITED)\n\n- OS (Orchestration)\n- Forge (Architecture)\n- LexiCode (Implementation realism)\n- Lume (UX / flow)\n- Sentinel (Risk & safety)\n- Aegis (Governance / control points)\n- Sparkster (Clarity of intent & language)\n\n---\n\n## QUESTIONS TO ADDRESS\n\n1. What *must* happen before any recommendation or drop is allowed?\n2. What is the minimum approval artifact that blocks execution?\n3. Which tasks require a Strategy Session vs fast-path execution?\n4. Where do Strategy Sessions end and Work Orders begin?\n5. What information must survive as a permanent artifact?\n\n---\nFILE: server/routes_health.ts\nimport type { Express } from \"express\";\n\nfunction getVersion(): string {\n  return (\n    process.env.APP_VERSION ||\n    process.env.COMMIT_SHA ||\n    process.env.GIT_SHA ||\n    process.env.npm_package_version ||\n    \"dev\"\n  );\n}\n\nfunction getBuild() {\n  const sha = process.env.COMMIT_SHA || process.env.GIT_SHA;\n  const time = process.env.BUILD_TIME;\n  const build: { sha?: string; time?: string } = {};\n  if (sha) build.sha = sha;\n  if (time) build.time = time;\n  return build;\n}\n\n/**\n * Public, safe health endpoints.\n * - No auth required\n * - No secrets\n * - Additive only\n */\nexport function registerHealthRoutes(app: Express) {\n  app.get(\"/api/health\", (_req, res) => {\n    res.json({\n      ok: true,\n      service: \"GigsterGarage\",\n      version: getVersion(),\n      build: getBuild(),\n      uptimeSeconds: Math.floor(process.uptime()),\n      timestamp: new Date().toISOString(),\n    });\n  });\n\n  // Optional alias\n  app.get(\"/api/version\", (_req, res) => {\n    res.json({\n      ok: true,\n      service: \"GigsterGarage\",\n      version: getVersion(),\n      build: getBuild(),\n      timestamp: new Date().toISOString(),\n    });\n  });\n}\nEND_FILE\n\nFILE: client/src/components/app-version-section.tsx\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\n\ntype HealthResp = {\n  ok: boolean;\n  service: string;\n  version: string;\n  build?: { sha?: string; time?: string };\n  uptimeSeconds?: number;\n  timestamp?: string;\n};\n\nasync function fetchHealth(): Promise<HealthResp> {\n  const res = await fetch(\"/api/health\", { credentials: \"include\" });\n  if (!res.ok) throw new Error(`health failed (${res.status})`);\n  return res.json();\n}\n\nexport function AppVersionSection() {\n  const { data, isLoading, error } = useQuery({\n    queryKey: [\"/api/health\"],\n    queryFn: fetchHealth,\n    staleTime: 30 * 60 * 1000, // 30 minutes\n    gcTime: 60 * 60 * 1000, // 60 minutes\n    retry: 1,\n  });\n\n  const version = data?.version || \"dev\";\n  const sha = data?.build?.sha;\n\n  return (\n    <Card className=\"mt-6\">\n      <CardHeader>\n        <CardTitle>About</CardTitle>\n      </CardHeader>\n      <CardContent className=\"flex flex-col gap-2\">\n        <div className=\"flex flex-wrap items-center gap-2\">\n          <Badge variant=\"secondary\">GigsterGarage</Badge>\n          <Badge variant=\"outline\">v{version}</Badge>\n          {sha ? <Badge variant=\"outline\">sha {sha.slice(0, 8)}</Badge> : null}\n        </div>\n\n        {isLoading ? (\n          <div className=\"text-sm text-muted-foreground\">Loading version…</div>\n        ) : null}\n\n        {error ? (\n          <div className=\"text-sm text-muted-foreground\">\n            Version unavailable (health endpoint not reachable).\n          </div>\n        ) : null}\n      </CardContent>\n    </Card>\n  );\n}\nEND_FILE\n\nFILE: docs/DTH/workitem-35-apply-instructions.md\n# Work Item 35 — GigsterGarage Pilot B\n**Goal:** Add public `/api/health` (and alias `/api/version`) + display version on Settings page.\n\n## 1) Backend wiring (server/routes.ts)\n**File:** `server/routes.ts`  \n**Where:** early in `registerRoutes(app)` around line ~340–350, before auth routes.\n\n### A) Add import at top (near other imports)\n```ts\nimport { registerHealthRoutes } from \"./routes_health\";\n\n## EXIT CRITERIA\n\nThis session remains OPEN until:\n- A clear direction is agreed upon\n- Dustin Sparks issues a **Strategy Lock**\n\nOnly after a Strategy Lock may recommendations or execution artifacts be created.\n",
  "created_at": "2025-12-27T19:40:45.773Z",
  "updated_at": "2025-12-27T20:11:43.852Z",
  "locked_at": "2025-12-27T19:43:25.299Z"
}