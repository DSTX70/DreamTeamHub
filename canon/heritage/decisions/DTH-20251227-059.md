# DTH-20251227-059: Work Item Execution Pipeline with Approval Gates

**Date:** 2025-12-27
**Status:** Approved
**Decision Maker:** Heritage Pod

## Context

Work Items converted from Strategy Sessions need a controlled pathway from ideation to execution. The goal is to prevent accidental execution while enabling paste-ready outputs for manual application.

## Decision

Implement a 4-stage execution pipeline:

1. **NONE** - Initial state, no processing done
2. **RECOMMENDATION_DRAFT** - Non-executing recommendation generated
3. **RECOMMENDATION_APPROVED** - Dustin has approved the recommendation
4. **DROP_READY** - FILE/END_FILE drop ready for manual paste

## Rationale

1. **Approval gates prevent accidental execution**: Drop generation is disabled until recommendation is approved
2. **File-backed storage avoids schema changes**: Stage artifacts stored in `data/work-item-stages/`
3. **Target repo isolation**: Pilot drops target GigsterGarage only
4. **Non-executing outputs**: All drops are paste-ready text, never auto-applied
5. **Full provenance**: Each stage tracks timestamps and approver identity

## Consequences

- All Work Item executions go through visible approval workflow
- No VSuiteHQ push until pilot proves stable
- Manual paste required for all drops (intentional friction)
- Clear audit trail of who approved what and when

## Implementation

- Backend: `server/lib/workItemStages.ts`, `server/routes/workItemStages.ts`
- UI: Execution Pipeline card in `work-item-detail.tsx`
- Storage: `data/work-item-stages/<workItemId>.json`

## Related

- EVID-0061: Work Item Execution Pipeline
- EVID-0060: Strategy → Lock → Convert → Work Pipeline
